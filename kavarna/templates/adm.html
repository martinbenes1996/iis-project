<h1 align="center">Admin page</h1>

<table><tr><td>
<!-- tables need to be aligned top -->
<table>
    <tr>
	<th colspan="3">Users</th>
    </tr>
{% for u in users %}
    <tr>
	<td><a href="{% url 'profile' %}?user={{u.pk}}">{{u.first_name}} {{u.last_name}}</a></td>
	<td>
	    <form method="get" action="{% url 'deleteuser' %}">{% csrf_token %}
            	<input name="user" type="hidden" value="{{ u.pk }}" required />
		<input name="request_path" type="hidden" value="/adm" required />
                <button type="Submit">Delete</button>
            </form>
	</td>
	<td>promote</td><!-- tlacitko na povyseni uzivatele na admina, potreba doplnit indikator adminstvi! -->
    </tr>
{% endfor %}
</table>

</td><td>

<table>
    <tr>
	<th colspan="3">Cafes</th>
    </tr>
{% for c in cafes %}
    <tr>
	<td><a href="{% url 'cafe' %}?id={{c.pk}}">{{c.name}}</a></td>
	<td>
	    <form method="get" action="{% url 'deletecafe' %}">{% csrf_token %}
            	<input name="pk" type="hidden" value="{{ c.pk }}" required />
		<input name="request_path" type="hidden" value="/adm" required />
                <button type="Submit">Delete</button>
            </form>
	</td>
	<td>
	    <form method="get" action="{% url 'modifycafe' %}">{% csrf_token %}
            	<input name="pk" type="hidden" value="{{ c.pk }}" required />
		<input name="request_path" type="hidden" value="/adm" required />
                <button type="Submit">Modify</button>
            </form>
	</td>
    </tr>
{% endfor %}
</table>

</td></tr><tr><td>

<table>
    <tr>
	<th colspan="3">Coffee</th>
    </tr>
{% for c in coffee %}
    <tr>
	<td><a href="{% url 'coffee' %}?id={{c.pk}}">{{c.name}}</a></td>
	<td>
	    <form method="get" action="{% url 'deletecoffee' %}">{% csrf_token %}
		<!--<input name="pk_cafe" type="hidden" value="{{ c.pk }}" required />-->
                <input name="pk" type="hidden" value="{{ c.pk }}" required />
		<input name="request_path" type="hidden" value="/adm" required />
                <button type="Submit">Delete</button>
            </form>
	</td>
	<td>
	    <form method="get" action="{% url 'modifycoffee' %}">{% csrf_token %}
		<!--<input name="pk" type="hidden" value="{{ cafe.pk }}" required />-->
                <input name="coffeeid" type="hidden" value="{{ c.pk }}" required />
		<input name="request_path" type="hidden" value="/adm" required />
                <button type="Submit">Modify</button>
            </form>
	</td>
    </tr>
{% endfor %}
</table>

</td><td>

<table>
    <tr>
	<th colspan="3">Events</th>
    </tr>
{% for e in events %}
    <tr>
	<td><a href="{% url 'event' %}?id={{e.pk}}">{{e.name}}</a></td>
	<td>
	    <form method="get" action="{% url 'deleteevent' %}">{% csrf_token %}
            	<input name="pk" type="hidden" value="{{ e.pk }}" required />
		<input name="request_path" type="hidden" value="/adm" required />
                <button type="Submit">Delete</button>
            </form>
	</td>
	<td>
	    <form method="get" action="{% url 'modifyevent' %}">{% csrf_token %}
		<!--<input name="id" type="hidden" value="{{ cafe.pk }}" required />-->
		<input name="eventid" type="hidden" value="{{ e.pk }}" required />
		<input name="request_path" type="hidden" value="/adm" required />
                <button type="Submit">Modify</button>
            </form>
	</td>
    </tr>
{% endfor %}
</table>

</td></tr><tr><td>

<table>
    <tr>
	<th colspan="2">Preparations</th>
    </tr>
{% for p in preparations %}
    <tr>
	<td>{{p.name}}</td>
	<td>
	    <form method="get" action="{% url 'deleteprep' %}">{% csrf_token %}
            	<input name="pk" type="hidden" value="{{ p.pk }}" required />
		<input name="request_path" type="hidden" value="/adm" required />
                <button type="Submit">Delete</button>
            </form>
	</td>
    </tr>
{% endfor %}
    <tr>
	<td colspan="2">
	    <form method="get" action="{% url 'addprep' %}">{% csrf_token %}
		<input name="request_path" type="hidden" value="/adm" required />
                <button type="Submit">Add</button>
            </form>
	</td>
    </tr>
</table>

</td><td>

<table>
    <tr>
	<th colspan="2">Beans</th>
    </tr>
{% for b in beans %}
    <tr>
	<td>{{b.name}}</td>
	<td>
	    <form method="get" action="{% url 'deletebean' %}">{% csrf_token %}
            	<input name="pk" type="hidden" value="{{ b.pk }}" required />
		<input name="request_path" type="hidden" value="/adm" required />
                <button type="Submit">Delete</button>
            </form>
	</td>
    </tr>
{% endfor %}
    <tr>
	<td colspan="2">
	    <form method="get" action="{% url 'addbean' %}">{% csrf_token %}
		<input name="request_path" type="hidden" value="/adm" required />
                <button type="Submit">Add</button>
            </form>
	</td>
    </tr>
</table>

</table>

<hr><br>
<div align="center">
    <a href="/profile/?user={{profile.pk}}#Tab1"><button class="btn btn-lg btn-info" type="submit">Go Back</button></a>
</div>
